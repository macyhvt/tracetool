/**!
 * @fileOverview jQuery Nemacam plugin <https://bitbucket.org/froetek-development/nemacam>
 * @version 1.0.4
 * @license Copyright 2021 FRÃ–TEK-Kunststofftechnik GmbH. All rights reserved.
 */
"use strict";if("undefined"==typeof jQuery)throw new Error("The Nemacam-JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(3>b[0]&&6>b[1])throw new Error("The Nemacam-JavaScript requires jQuery version 3.6 or higher")}(jQuery.noConflict()),+function(a,b){"use strict";function c(){this._defaults={debug:!1,interval:6e4,maxAttempts:60},a.extend(this._defaults)}function d(b,c){return!("option"!==b||0!==c.length&&(1!==c.length||"string"!=typeof c[0]))||-1<a.inArray(b,f)}function e(b,c){if("option"===b&&(0===c.length||2===c.length))return-1<a.inArray(c,g);return!("string"!=typeof b)&&-1===a.inArray(b,f)&&-1===a.inArray(b,g)}a.extend(c.prototype,{dataObjectName:"nemacam",markerClassName:"hasNemacam",_initialisingClass:"nemacam-initialising",_incompatibleClass:"nemacam-incompatible",_connectingClass:"nemacam-connecting",_accessDeniedClass:"nemacam-access-denied",_loadingClass:"nemacam-loading",_processingClass:"nemacam-processing",_pendingClass:"nemacam-pending",_sendingClass:"nemacam-sending",_streamingClass:"nemacam-streaming",_disabledClass:"nemacam-disabled",setDefaults:function(b){return a.extend(this._defaults,b||{}),this},_attachPlugin:function(b,c){if(b=a(b),!b.hasClass(this.markerClassName)){let d={options:a.extend({},this._defaults)};b.addClass([this.markerClassName]).data(this.dataObjectName,d).prepend(a("<div/>",{id:"message-container",style:"display:none"})),this._optionPlugin(b,c)}},_optionPlugin:function(c,d,e){if(c=a(c),!c.hasClass(this.markerClassName))return;let f,g=c.data(this.dataObjectName),h=this;if(!d||"string"==typeof d&&null===e)return f=d,d=(g||{}).options,d&&f?d[f]:d;c.addClass([j._initialisingClass]),d=d||{},"string"==typeof d&&(f=d,d={},d[f]=e),a.extend(g.options,c.data(),d),c.unbind("."+this.dataObjectName);const i=(d,e)=>{c.removeClass([j._initialisingClass,j._streamingClass]).addClass([j._loadingClass]);const f=a(d.target),g=c.find("video"),h=g.closest(".media-wrapper").removeClass("hasStream"),i="SELECT"===f.prop("tagName").toUpperCase()?f:c.find("select[name=\"devices\"]"),k=e.devices||j._getDetectedDevices(c);let l=parseInt(i.data("options"))||0,m=k.length,n=!1,o=!1,p=(""+i.val()).trim();if(1==k.length&&(p=k[0].deviceId),n=parseInt(l)!==parseInt(m),o=p!==i.data("selection"),!n&&!o)return;let q,r={},s=[];return n&&(j._setDetectedDevices(c,{devices:k.filter(a=>a.deviceId&&"videoinput"===a.kind)}),j._selectDevice(c,{deviceId:p}),r=j._createDeviceListOptions(c,a.extend({},e,{devices:j._getDetectedDevices(c),select:p})),s=r.listOptions||["<option value=\"\">"+b.FTKAPP.translator.map.COM_FTK_LIST_OPTION_NO_DEVICES_FOUND_TEXT+"</option>"],q=r.selectedDevice,1<k.length&&s.unshift("<option value=\"\"> --- "+b.FTKAPP.translator.map.COM_FTK_HINT_PLEASE_SELECT_CAMERA_TEXT+" --- </option>"),i.html(s.join("")),k.length?i.addClass("hasOptions").removeAttr("readonly").removeAttr("disabled"):i.removeClass("hasOptions").attr({readonly:"",disabled:""}),p=(""+i.val()).trim()),o&&(q=j._selectDevice(c,{deviceId:p}),p=q?q.deviceId:p),i.data({options:k.length,selection:p}),q&&q instanceof MediaDeviceInfo?void(o&&(i.removeClass("noSelection"),c.removeClass([j._loadingClass,j._pendingClass]).addClass([j._connectingClass]),j._getStream(c,{device:q},a=>{if(!a.stream||!(a.stream instanceof MediaStream))return void alert("Connection failed.");"srcObject"in video?video.srcObject=a.stream:video.src=b.URL.createObjectURL(a.stream),video.onloadedmetadata=function(){j._getImageCapture(c,{device:q,stream:a.stream,track:0},a=>{let b=0,d=1.3333333333333333,e=480,f=Math.trunc(Math.round(e*d));a.hasOwnProperty("imageCapture")&&a.imageCapture.hasOwnProperty("capture")&&a.imageCapture.capture instanceof ImageCapture&&0<a.imageCapture.photoSettings.imageWidth&&0<a.imageCapture.photoSettings.imageHeight&&(b=Math.pow(10,1),d=a.imageCapture.photoSettings.imageWidth/a.imageCapture.photoSettings.imageHeight,f=c.outerWidth(),e=Math.ceil(f*a.imageCapture.photoSettings.imageHeight/a.imageCapture.photoSettings.imageWidth*b)/b,e>a.imageCapture.photoSettings.imageHeight&&(e=a.imageCapture.photoSettings.imageHeight,f=Math.trunc(Math.round(e*d))),j._enableStreamControls(c,a)),c.removeClass([j._initialisingClass,j._loadingClass,j._connectingClass]).addClass([j._streamingClass]).find("#video-wrapper").css({paddingBottom:e+"px"}).end().find("video").parent().addClass("hasStream"),video.play()})}}))):(i.addClass("noSelection"),c.removeClass([j._loadingClass]).addClass([j._pendingClass]),i.focus())};c.on("initList."+this.dataObjectName,i).on("updateList."+this.dataObjectName,i).on("change."+this.dataObjectName,b=>{const c=a(b.target);if("SELECT"===c.prop("tagName").toUpperCase())return c.trigger("updateList",{dropdown:c.get(0)})})},_enablePlugin:function(b){b=a(b);b.hasClass(this.markerClassName)&&b.prop("disabled",!1).removeClass([j._disabledClass])},_disablePlugin:function(b){b=a(b);b.hasClass(this.markerClassName)&&b.prop("disabled",!0).addClass([j._disabledClass])},_destroyPlugin:function(c){c=a(c);c.hasClass(this.markerClassName)&&j._stopPoll(c,{poll:c.data("poll")},()=>{c.removeClass([j._initialisingClass,j._incompatibleClass,j._connectingClass,j._loadingClass,j._streamingClass,j._processingClass,j._pendingClass,j._sendingClass,j._disabledClass,j.markerClassName]).removeData(j.dataObjectName).unbind("."+j.dataObjectName);try{delete b.mediaDevices}catch(a){}})},_initPlugin:function(b,c){return b=a(b),b.hasClass(this.markerClassName)?j._supportsMediaDevice()?j._supportsImageCapture()?void j._detectDevices(b,c,a=>{a instanceof DOMException?(j._destroyPlugin(b,c),b.addClass([j._accessDeniedClass])):j._startPoll(b,c)}):(b.addClass([j._incompatibleClass]),void j._renderMessage(b,{type:"notice"},"This web browser is incompatible as it doesn't support the required <a href='https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Image_Capture_API#browser_compatibility' target='_blank' title='more about the WebRTC API'>ImageCapture</a>-function. Up to today <u>only Google's Chrome browser</u> supports this functionality and should therefore be used to take pictures within Nematrack.")):(b.addClass([j._incompatibleClass]),void j._renderMessage(b,{type:"notice"},"This web browser doesn't seem to support the <a href='//developer.mozilla.org/en-US/docs/Web/API/WebRTC_API' target='_blank' title='more about the WebRTC API'>WebRTC API</a>. Please try another, modern web browser.")):void 0},_clearMessage:function(b){b=a(b);b.hasClass(this.markerClassName)&&b.find("#message-container").fadeOut("fast",()=>{a(this).empty().removeClass()})},_renderMessage:function(c,d,e){if(c=a(c),!c.hasClass(this.markerClassName))return;let f,g;switch((""+d.type).toLowerCase()){case"danger":case"error":f=b.FTKAPP.translator.map.COM_FTK_SYSTEM_MESSAGE_ERROR_TEXT,g="danger";break;case"notice":case"warning":f=b.FTKAPP.translator.map.COM_FTK_SYSTEM_MESSAGE_NOTICE_TEXT,g="warning";break;case"info":case"primary":f=b.FTKAPP.translator.map.COM_FTK_SYSTEM_MESSAGE_INFO_TEXT,g="info";break;case"success":f=b.FTKAPP.translator.map.COM_FTK_SYSTEM_MESSAGE_SUCCESS_TEXT,g="success";break;default:f=b.FTKAPP.translator.map.COM_FTK_HEADING_ATTENTION_TEXT,g="secondary";}c.find("#message-container").hide().removeClass().empty().html("<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\""+b.FTKAPP.translator.map.COM_FTK_BUTTON_TEXT_CLOSE_TEXT+"\" style=\"padding-top:0.1rem; padding-right:0.5rem\"><span class=\"d-inline-block\" aria-hidden=\"true\" style=\"height:50%\">&times;</span></button>").append("<strong class=\"text-uppercase mr-2\">"+f+":</strong>"+e.trim()).addClass(["alert","alert-dismissible","alert-"+g,"fade show"]).fadeIn("fast")},_disableStreamControls:function(b){if(b=a(b),!!b.hasClass(this.markerClassName)){b.data(this.dataObjectName);b.find(".stream-controls").prop("disabled",!0).addClass("d-none").find("button").prop("disabled",!0)}},_enableStreamControls:function(b,c){if(b=a(b),!b.hasClass(this.markerClassName))return;let d=b.data(this.dataObjectName),e=b.find(".stream-controls");e.is(".disabled")&&e.removeClass(["d-none","disabled"]).find("button").prop("disabled",!1).end().find("#btnSnapper").on("click."+this.dataObjectName,()=>{console.log("Snapper clicked");let d=b.find("#video-wrapper").css("width"),e=b.find("#video-wrapper").css("height"),f=b.find("#media-container").css("backgroundColor");console.log("target:",b),console.log("media-container:",b.find("#media-container")),b.find("#media-container").css({backgroundColor:"#000",height:e,width:d}).children().wrapAll(a("<div/>",{id:"effect-wrapper",css:{width:d,height:e}})).end().find("#effect-wrapper").hide({effect:"clip",duration:50,direction:"vertical",easing:"swing",complete:()=>{b.find("#effect-wrapper").show({effect:"clip",duration:50,direction:"vertical",easing:"swing",complete:()=>{setTimeout(()=>{b.find("#media-container").css({backgroundColor:"unset"}).end().find("#effect-wrapper").children().unwrap().end().end().removeClass([j._streamingClass]).addClass([j._loadingClass]).find("#video-wrapper").data({style:{display:b.find("#video-wrapper").css("display")}}).hide({duration:0,complete:()=>{j._takePhoto(b,c,a=>{const f=b.find("#video-wrapper video"),g=new FileReader;return g.addEventListener("load",()=>{const a=g.result;b.find("#image-wrapper").css({paddingBottom:e}).queue(f=>{setTimeout(()=>{b.find("#image-wrapper").find("img").attr({src:a,alt:"Snapshot",width:d,height:e}).end().css({paddingBottom:"unset",backgroundSize:[d,e].join(" "),backgroundImage:"url("+a+")",backgroundPositionY:0}).queue(a=>{j._enablePictureControls(b,c),a()}).addClass("hasSnapshot").show({duration:0,complete:()=>{b.removeClass([j._loadingClass])}})},1),f()})}),void g.readAsDataURL(a)})}})},200)}})}})})},_enablePictureControls:function(b,c){if(b=a(b),!b.hasClass(this.markerClassName))return;let d=b.data(this.dataObjectName),e=b.find(".photo-controls");e.is(".disabled")&&e.removeClass(["d-none","disabled"]).find("button").prop("disabled",!1).end().find("#btnAdd").on("click."+this.dataObjectName,d=>{const e=a(d.currentTarget),f=a("#"+e.attr("form")),g=f.find("img"),h=a(b.data("parentContainer"));a("<input/>",{readonly:!0,type:"hidden",name:"proofPics[]",value:g.attr("src")}).appendTo(h),j._clearPhoto(b,c,()=>{b.find(".media-counter").removeClass("d-none").find("> .count").html(h.find("input[name=\"proofPics[]\"]").length)})}).end().find("#btnEraser").on("click."+this.dataObjectName,()=>{j._clearPhoto(b,c,()=>{})})},_detectDevices:function(b,c,d){if(b=a(b),!!b.hasClass(this.markerClassName)){b.data(this.dataObjectName);return j._supportsMediaDevice()?void navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(a=>{a.getTracks().forEach(a=>a.stop()),"function"==typeof d?d():null}).catch(a=>{switch(a.name){case"AbortError":break;case"NotAllowedError":case"PermissionDeniedError":return j._renderMessage(b,{type:"error"},"Access to the camera(s) has been denied. The photo recording will now stop."),"function"==typeof d?d(a):null,a;break;case"NotFoundError":break;case"NotReadableError":return j._renderMessage(b,{type:"error"},""+[a.message," ","<em>Troubleshooting measures:</em>"," ","1. Disconnect all video devices.","2. Clear the web browser's cache (could result in logging in again).","3. Connect your video device.","4. Make sure that your video device is switched on.","5. Make sure that access to the video device is enabled in the web browser."," ","Still no go or need assistance? Ask your technical support."].join("<br>")),"function"==typeof d?d(a):null,a;break;case"OverconstrainedError":return j._renderMessage(b,{type:"error"},"The selected device does not support constraint: "+a.constraint),"function"==typeof d?d(a):null,a;break;case"SecurityError":break;case"TypeError":break;default:console.error("Unspecified error:",a.message);}}):(b.addClass([j._incompatibleClass]),void j._renderMessage(b,{type:"info"},"This web browser doesn't seem to support the <a href='https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API' target='_blank' title='more about the WebRTC API'>WebRTC API</a>. Please try another, modern web browser."))}},_setDetectedDevices:function(c,d){if(c=a(c),!!c.hasClass(this.markerClassName))return b.mediaDevices=d.devices||[],j._getDetectedDevices(c)},_getDetectedDevices:function(c){return c=a(c),c.hasClass(this.markerClassName)?b.mediaDevices||[]:void 0},_startPoll:function(b){if(b=a(b),!b.hasClass(this.markerClassName))return;let c=b.data(this.dataObjectName),d=!1,e=[],f=0,g="";(async({fn:a,interval:c,maxAttempts:d})=>{let e=0;d=parseInt(d);const f=async(g,h)=>{await a();return e+=1,d&&e===d?h(new Error("Exceeded max poll attempts")):void b.data({poll:setTimeout(f,c,g,h)})};return new Promise(f)})({fn:()=>{e=j._getDetectedDevices(b),f=e.length,navigator.mediaDevices.enumerateDevices().then(a=>{const c=[],h=[];let i=[];e=e.filter(a=>""!==a.deviceId&&"videoinput"===a.kind&&c.push(a.deviceId)),a=a.filter(a=>""!==a.deviceId&&"videoinput"===a.kind&&h.push(a.deviceId)),i=h.length>c.length?h.filter(a=>!c.includes(a)):c.filter(a=>!h.includes(a)),d=c.length!=h.length,d&&(0==f?(g="initList",f=a.length):(g="updateList",d&&(f=a.length)),b.trigger(g,{devices:a}))})},interval:c.options.interval||j._defaults.interval,maxAttempts:c.options.maxAttempts||j._defaults.maxAttempts}).then(a=>console.warn("poll Response:",a)).catch(a=>console.error(a))},_stopPoll:function(c,d,e){if(c=a(c),!!c.hasClass(this.markerClassName)){let a=c.data("poll");try{a&&(b.clearTimeout(a),delete c.data.poll)}catch(a){console.warn("Failed to stop active poll:",a)}return"function"==typeof e?e(c.data("poll")):null,c.data("poll")}},_createDeviceListOptions:function(c,d){if(c=a(c),!c.hasClass(this.markerClassName))return;let e=d.devices||[],f=j._getSelectedDevice(c);const g=[];let h=0;return e.length?(e.forEach(a=>{g.push("<option value=\""+a.deviceId+"\""+(a.selected?" selected":"")+">"+(a.label||b.FTKAPP.translator.map.COM_FTK_LABEL_CAMERA_TEXT+" "+ ++h)+"</option>")}),{listOptions:g,selectedDevice:f}):{listOptions:null,selectedDevice:e.filter(a=>a.deviceId===d.select).pop()}},_selectDevice:function(b,c){if(b=a(b),!b.hasClass(this.markerClassName))return;let d;return j._getDetectedDevices(b).forEach(a=>{a.deviceId===c.deviceId?(a.selected=!0,d=a):a.selected=!1}),d},_getImageCapture:function(c,d,e){if(c=a(c),!c.hasClass(this.markerClassName))return;if(!d.stream||!(d.stream instanceof MediaStream))return void j._renderMessage(c,{type:"error"},"Invalid stream.");const f=d.stream.getVideoTracks();if(!f.length)return void j._renderMessage(c,{type:"error"},"The selected device's has no streaming tracks.");let g,h,i=f[d.track||0];if(!i||!(i instanceof MediaStreamTrack))return void j._renderMessage(c,{type:"error"},"The requested track is not available.");if(b.mediaStreams=b.mediaStreams||{},a.each(b.mediaStreams,(a,b)=>{if(a==d.device.deviceId&&"undefined"!=typeof b.imagecapture)return g=b.imagecapture,!1}),g)return"function"==typeof e?e({imageCapture:g}):null,g;if("live"===i.readyState){let f={},g={};try{if(h=new ImageCapture(i),!(h instanceof ImageCapture))return void j._renderMessage(c,{type:"error"},"Failed to create the ImageCapture instance.")}catch(a){}h.getPhotoCapabilities().then(a=>(f=a,h.getPhotoSettings())).then(c=>(g=c,b.mediaStreams[d.device.deviceId]=a.extend({},b.mediaStreams[d.device.deviceId],{imagecapture:{capture:h,photoCapabilities:f,photoSettings:c}}),"function"==typeof e?e({imageCapture:b.mediaStreams[d.device.deviceId].imagecapture}):null,b.mediaStreams[d.device.deviceId].imagecapture)).catch(a=>{switch(a.name){case"InvalidStateError":console.warn("Again this fu***** InvalidStateError");break;default:console.error("Unspecified error:",a.message);}})}else return void j._renderMessage(c,{type:"notice"},"The selected device' video track is not ready and can therefore not be used.")},_getSelectedDevice:function(b){if(b=a(b),!b.hasClass(this.markerClassName))return;let c;return j._getDetectedDevices(b).every(a=>!0!=a.selected||(c=a,!1)),c},_getStream:function(c,d,e){if(c=a(c),!c.hasClass(this.markerClassName))return;if(!d.device||!(d.device instanceof MediaDeviceInfo))return void j._renderMessage(c,{type:"notice"},"Please verify you selected a media device and this device is properly connected.");let f,g;try{d.device.kind}catch(a){return void j._renderMessage(c,{type:"danger"},"The selected device is no streaming device at all.")}try{"audoinput"!==d.device.kind}catch(a){f=!1}try{"videoinput"!==d.device.kind}catch(a){g=!1}if(!1===f&&!1===g)return void j._renderMessage(c,{type:"danger"},"The selected device is no valid streaming device.");let h,i=j._getDetectedDevices(c);if(b.mediaStreams=b.mediaStreams||{},a.each(b.mediaStreams,(a,b)=>{if(a==d.device.deviceId&&"undefined"!=typeof b.stream)return h=b.stream,!1}),h&&h instanceof MediaStream)return"function"==typeof e?e({stream:h}):null,h;else{const f={audio:!1,video:{deviceId:{exact:d.device.deviceId},facingMode:"environment",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}}};navigator.mediaDevices.getUserMedia(f).then(f=>{i.forEach(e=>{e.deviceId===d.device.deviceId?b.mediaStreams[e.deviceId]=a.extend({},b.mediaStreams[e.deviceId],{stream:f}):j._stopStream(c,{device:e})}),"function"==typeof e?e({stream:b.mediaStreams[d.device.deviceId].stream}):null}).catch(a=>{switch(a.name){case"AbortError":break;case"NotAllowedError":break;case"NotFoundError":break;case"NotReadableError":return void j._renderMessage(c,{type:"error"},""+[a.message,"","<em>Troubleshooting measures:</em>","","1. Disconnect all video devices.","2. Clear the web browser's cache (could result in logging in again).","3. Connect your video device.","4. Make sure that your video device is switched on.","5. Make sure that access to the video device is enabled in the web browser.","","Still no go or need assistance? Ask your technical support."].join("<br>"));break;case"OverconstrainedError":return void j._renderMessage(c,{type:"error"},"The selected device does not support constraint: "+a.constraint);break;case"SecurityError":break;case"TypeError":break;default:console.error("Unspecified error:",a.message);}})}},_startStream:function(b,c){if(b=a(b),!!b.hasClass(this.markerClassName)){if(!c.stream||!(c.stream instanceof MediaStream))return void j._renderMessage(b,{type:"error"},"Could not start the stream. Invalid stream.");b.data({stream:c.stream});const d=c.videoScreen||b.find("video");return a.each(d,(a,c)=>{c.srcObject=b.data("stream"),c.autoplay&&!1==c.autoplay&&c.play()}),!0}},_stopStream:function(){console.error("DISABLED! Implement!")},_stopAllStreams:function(){console.error("DISABLED! Implement!")},_clearPhoto:function(b,c,d){if(b=a(b),!!b.hasClass(this.markerClassName)){let e=b.find("#image-wrapper").css("width"),f=b.find("#image-wrapper").css("height"),g=b.find("#media-container").css("backgroundColor"),h=c.effect||"fade",i=c.duration||100,k=c.easing||"swing";b.find("#media-container").css({backgroundColor:"unset",height:f,width:e}).children().wrapAll(a("<div/>",{id:"effect-wrapper",css:{width:e,height:f}})).end().find("#effect-wrapper").hide({effect:h,duration:i,easing:k,complete:()=>{b.removeClass([j._streamingClass]).addClass([j._loadingClass]).find("#image-wrapper").removeClass("hasSnapshot").removeAttr("style").hide().end().find("#effect-wrapper").children().unwrap().end().end().queue(a=>{setTimeout(()=>{b.find("#video-wrapper").css({display:b.find("#video-wrapper").data("style").display}).end().find("#media-container").removeAttr("style"),"function"==typeof d?d():null,a()},200)})}})}},_takePhoto:function(a,b,c){b.hasOwnProperty("imageCapture")&&b.imageCapture.hasOwnProperty("capture")&&b.imageCapture.capture instanceof ImageCapture&&b.imageCapture.capture.takePhoto().then(a=>{"function"==typeof c?c(a):null}).catch(a=>console.error(a))},_supportsImageCapture:function(){return"function"==typeof ImageCapture},_supportsMediaDevice:function(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)},_getDeviceCapabilities:function(b,c){if(b=a(b),!!b.hasClass(this.markerClassName))switch(!0){case c.stream&&c.stream instanceof MediaStream:const a=c.stream.getVideoTracks()[c.track||0];return a.getCapabilities();break;case c.imageCapture&&c.imageCapture instanceof ImageCapture:return c.imageCapture.track.getCapabilities();break;default:return void j._renderMessage(b,{type:"notice"},"An instance of MediaStream or ImageCapture is required for track capabilities detection.");}},_getDeviceSettings:function(b,c){if(b=a(b),!!b.hasClass(this.markerClassName))switch(!0){case c.stream&&c.stream instanceof MediaStream:const a=c.stream.getVideoTracks()[c.track||0];return a.getSettings();break;case c.imageCapture&&c.imageCapture instanceof ImageCapture:return c.imageCapture.track.getSettings();break;default:return void j._renderMessage(b,{type:"notice"},"An instance of MediaStream or ImageCapture is required for track settings detection.");}}});const f=["destroy","init","restart"],g=[],h=a.fn.nemacam;a.fn.nemacam=function(a){const b=[].slice.call(arguments,1);if(d(a,b))return j["_"+a+"Plugin"].apply(j,[this[0]].concat(b));if(e(a,b))throw"Unknown plugin method: "+a;return this.each(()=>{if("string"==typeof a){if(!j["_"+a+"Plugin"])throw"Unknown plugin method: "+a;j["_"+a+"Plugin"].apply(j,[this].concat(b))}else j._attachPlugin(this,a||{})})},a.fn.nemacam.noConflict=function(){return a.fn.nemacam=h,this};const j=a.nemacam=new c}(jQuery.noConflict(),window),+function(a){"use strict";a("[data-bind=\"nemacam\"]").closest(".modal").on("shown.bs.modal",b=>{let c=a(b.target||b.currentTarget),d=c.find("[data-bind=\"nemacam\"]");d.is(".hasNemacam")||"object"!=typeof a.nemacam||d.nemacam({debug:!0,interval:5e3,maxAttempts:720}).queue(a=>{d=c.find("[data-bind=\"nemacam\"]"),a()}).nemacam("init"),c.find("[data-toggle=\"tooltip\"]").tooltip(a.extend({container:"body",boundary:"window"},{delay:a(this).data("delay")}))}).on("hide.bs.modal",b=>{let c=a(b.target||b.currentTarget),d=c.find("[data-bind=\"nemacam\"]");d.is(".hasNemacam")&&d.nemacam("destroy")}).end()}(jQuery.noConflict(),window);
